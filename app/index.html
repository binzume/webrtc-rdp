<html>

<head>
  <link rel="stylesheet" type="text/css" href="style.css" />
  <title>WebRTC Remote Desktop</title>
  <script src="node_modules/@open-ayame/ayame-web-sdk/dist/ayame.min.js"></script>
  <script src="rtcfilesystem-server.js?20220520"></script>
  <script src="webrtc-rdp.js?20220520"></script>
</head>

<body>
  <h1 class="noplayer browser">WebRTC Remote Desktop</h1>

  <div id="content" class="noplayer">
  <div id="pairing" class="block" style="display:none;">
    <h2>Add new device</h2>
    <button id="generatePin">Generate PIN</button> / <button id="inputPin">Input PIN</button>
    <div id="pinDisplayBox" style="display:none;">
      <div class="pin">
        PIN: <span id="pin" class="selectable"></span>
      </div>
      <select id="modeSelect">
        <option value="twoway" selected>two-way</option>
        <option value="host">host</option>
        <option value="guest">guest</option>
      </select><br />
      Waiting.... Visit this page on peer device, and input the PIN.
    </div>
    <form id="pinInputBox">
      <div class="pin">
        PIN:<input type="number" inputmode="numeric" maxlength="8" id="pinInput"
          style="width:200pt;height:50pt;" /><button type='submit' style="width:80pt;height:50pt;">OK</button>
      </div>
      Visit this page on peer device, and generate PIN.
    </form>
  </div>

  <div id="publishOrPlay" style="display:none;text-align: center">
    <div style="text-align:right;">
      <button id="addDeviceButton">Add Device</button>
      <button class="browser" id="clearSettingsButton">Reset Settings</button>
    </div>
    <div id="devices"></div>
    <ul id="files" class="streamlist"></ul>
    <div class="browser block">
      Input proxy: <input id="inputProxyUrl" />
      <button id="connectInputButton">Connect</button> <br />
      If you want to cntrol mouse, set <a href="https://github.com/binzume/inputproxy" target="_blank">inputproxy</a>
      url.
    </div>
  </div>
  </div>

  <div id="player" style="width: 100%; height: 100vh; position: relative; overflow: hidden;">
    <div id="player-menu">
      <button id="closePlayerButton">Back</button>
      <button id="playButton">Reset</button>
      <button id="toggleShiftButton" class='onoff'>Shift</button>
      <button id="toggleControlButton" class='onoff'>Ctrl</button>
      <button id="toggleAltButton" class='onoff'>Alt</button>
      <button id="muteButton" class='onoff'>Mute</button>
      <button id="selectWindowButton" class='onoff'>Select Window</button>
      <button id="fullscreenButton" class='onoff'>Fullscreen</button>
    </div>
    <video id="screen" autoplay playsinline></video>
    <div id="connectingBox" style="margin: 50pt 0;font-size: 40pt;">
      <div class="loading-spinner"></div>
      Connecting...
    </div>
  </div>

  <div class="browser noplayer" style="margin: 30pt 0;text-align: center">
    <div><a href="https://binzume.github.io/vr-workspace/#app:app-webrtc-rdp">WebXR Client</a></div>
    <div><a href="https://github.com/binzume/webrtc-rdp/blob/master/README.md">README.md</a></div>
  </div>

</body>

</html>