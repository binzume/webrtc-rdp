<html>

<head>
  <link rel="stylesheet" type="text/css" href="style.css" />
  <title>WebRTC Remote Desktop</title>
  <script src="node_modules/@open-ayame/ayame-web-sdk/dist/ayame.min.js"></script>
  <script src="webrtc-rdp.js?20220430"></script>
</head>

<body>
  <h1 class="noplayer browser">WebRTC Remote Desktop</h1>

  <div id="content" class='noplayer'>
  <div id="pairing" style="display:none;text-align: center;">
    <h2>Connect to peer device</h2>
    <button id="generatePin">Generate PIN</button> or <button id="inputPin">Input PIN</button>
    <div id="pinDisplayBox" style="display:none;">
      <div class="pin">
        PIN: <span id="pin" class="selectable"></span>
      </div>
      Waiting.... Visit this page on peer device, and input the PIN.
    </div>
    <div id="pinInputBox">
      <div class="pin">
        PIN:<input type="number" inputmode="numeric" maxlength="8" id="pinInput"
          style="width:200pt;height:50pt;" /><button id="sendPinButton" style="width:80pt;height:50pt;">OK</button>
      </div>
      Visit this page on peer device, and generate PIN.
    </div>
  </div>

  <div id="publishOrPlay" style="display:none;text-align: center">
    <div style="text-align:right;">
      <button id="addDeviceButton">Add Device</button>
      <button class="browser" id="clearSettingsButton">Reset Settings</button>
    </div>
    <div id="devices"></div>
    <div id="streams" class="streamlist"></div>
    <div class="browser" style="border: 2px solid #ccc">
      Input proxy: <input id="inputProxyUrl" />
      <button id="connectInputButton">Connect</button> <br />
      If you want to cntrol mouse, set <a href="https://github.com/binzume/inputproxy" target="_blank">inputproxy</a>
      url.
    </div>
  </div>
  </div>

  <div id="player">
    <div id="player-menu">
      <button id="closePlayerButton">Back</button>
      <button id="playButton">Reconnect</button>
      <button id="fullscreenButton">Fullscreen</button>
    </div>
    <video id="screen" autoplay playsinline
      style="width:100%; height: calc(100vh - 20pt); border: 0px; display:none;"></video>
    <div id="connectingBox" style="margin: 50pt 0;font-size: 40pt;">Connecting...</div>
  </div>

  <div class="browser noplayer" style="margin: 30pt 0;text-align: center">
    <div><a href="https://binzume.github.io/vr-workspace/#app:app-webrtc-rdp">WebXR Client</a></div>
    <div><a href="https://github.com/binzume/webrtc-rdp/blob/master/README.md">README.md</a></div>
  </div>

</body>

</html>